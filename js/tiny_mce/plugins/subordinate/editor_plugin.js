(function(){tinymce.PluginManager.requireLangPack('subordinate');tinymce.create('tinymce.plugins.SubordinatePlugin',{init:function(g,h){g.addCommand('mceSubordinate',function(){var c=g.editorId.split("_");var d=c[1].match(/ref/);var e;var f;if(d){e=g.editorId.split("-");if(e.length>2){f="ref"+e[1]+"-"+e[2]}else{f="ref"+e[1]}}else{e=g.editorId.split("-");if(e.length>2){f=e[1]+"-"+e[2]}else{f=e[1]}}makeSubordinateDialog(f);init(g.selection.getContent(),f);$('#msm_subordinate_container-'+f).dialog({open:function(a,b){$(".ui-dialog-titlebar-close").hide();$("#msm_subordinate_highlighted-"+f).val(g.selection.getContent({format:'text'}))},modal:true,autoOpen:false,height:500,width:750,closeOnEscape:false});$('#msm_subordinate_container-'+f).dialog('open').css('display','block')});g.onNodeChange.add(function(a,b,n){if(a.selection.getContent()){b.setDisabled('subordinate',false)}else{b.setActive('subordinate',false);b.setDisabled('subordinate',true)}});g.addButton('subordinate',{title:'subordinate.desc',cmd:'mceSubordinate',image:h+'/img/subordinate.png'})},createControl:function(n,a){return null},getInfo:function(){return{longname:'Subordinate plugin',author:'Ga Young Kim',authorurl:'http://ualberta.ca ',infourl:'http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/subordinate',version:"1.0"}}});tinymce.PluginManager.add('subordinate',tinymce.plugins.SubordinatePlugin)})();function makeSubordinateDialog(a){var b;var c=document.createElement('div');var d=document.createElement('form');var e=document.createElement('div');var f=document.createElement('label');var g=document.createTextNode('Selected Text : ');var h=document.createElement('input');var i=document.createElement('label');var j=document.createTextNode('Subordinate Type : ');var k=document.createElement('select');var l=document.createElement('option');l.setAttribute("value","None");var m=document.createTextNode('None');var n=document.createElement('option');n.setAttribute("value","Information");var o=document.createTextNode('Information');var p=document.createElement('option');p.setAttribute("value","External Link");var q=document.createTextNode('External Link');var r=document.createElement('option');r.setAttribute("value","Internal Reference");var s=document.createTextNode('Internal Reference');var t=document.createElement('option');t.setAttribute("value","External Reference");var u=document.createTextNode('External Reference');l.appendChild(m);n.appendChild(o);p.appendChild(q);r.appendChild(s);t.appendChild(u);var v=document.createElement('div');var w=document.createElement('div');var x=document.createElement('input');var y=document.createElement('input');b=document.getElementById('msm_subordinate_container-'+a);c.id='msm_subordinate-'+a;b.setAttribute("title","Create Subordinate");d.id='msm_subordinate_form-'+a;e.className="msm_subordinate_form_container";f.setAttribute("for",'msm_subordinate_highlighted-'+a);f.appendChild(g);h.id='msm_subordinate_highlighted-'+a;h.name='msm_subordinate_highlighted-'+a;h.setAttribute("disabled","disabled");i.setAttribute("for",'msm_subordinate_select-'+a);i.appendChild(j);k.id='msm_subordinate_select-'+a;k.name='msm_subordinate_select-'+a;k.onchange=function(){changeForm(event,a)};v.id='msm_subordinate_content_form_container-'+a;v.className="msm_subordinate_content_form_containers";w.className='msm_subordinate_button_container';x.setAttribute("type","button");x.id='msm_subordinate_submit-'+a;x.className='msm_subordinate_button';x.setAttribute("value","Save");x.onclick=function(){submitSubForm(a)};y.setAttribute("type","button");y.id='msm_subordinate_cancel-'+a;y.className='msm_subordinate_button';y.setAttribute("value","Cancel");y.onclick=function(){closeSubFormDialog(a)};k.appendChild(l);k.appendChild(n);k.appendChild(p);k.appendChild(r);k.appendChild(t);w.appendChild(x);w.appendChild(y);e.appendChild(f);e.appendChild(h);e.appendChild(document.createElement('br'));e.appendChild(document.createElement('br'));e.appendChild(i);e.appendChild(k);e.appendChild(v);d.appendChild(e);d.appendChild(document.createElement('br'));d.appendChild(document.createElement('br'));d.appendChild(w);c.appendChild(d);if(!b.hasChildNodes()){b.appendChild(c)}}