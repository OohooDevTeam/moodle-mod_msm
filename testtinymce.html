<!--
To change this template, choose Tools | Templates
and open the template in the editor.

<!DOCTYPE html>
<html>
    <head>        
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <style>
            .boxcontainer
            {
                width: 50%;
                float: left;
            }

            .box{
                border: 2px solid black;
            }
            .box_header
            {
                height: 20px;
                padding: 2%;
                background-color: grey;
            }
            .box_content
            {
                padding: 2%;
            }
            .ui-sortable-placeholder { border: 1px dotted black; visibility: visible !important; height: 50px !important; }
            .ui-sortable-placeholder * { visibility: hidden; }
        </style>

        <script src='development-bundle/jquery-1.7.1.js'></script>
        <script type='text/javascript' src='../../lib/editor/tinymce/tiny_mce/3.4.6/tiny_mce.js'></script>

        <link rel='stylesheet' href='development-bundle/themes/ui-lightness/jquery.ui.all.css'/>
        <script src='development-bundle/external/jquery.bgiframe-2.1.2.js'></script>
        <script src='development-bundle/ui/jquery.ui.core.js'></script>
        <script src='development-bundle/ui/jquery.ui.widget.js'></script>
        <script src='development-bundle/ui/jquery.ui.mouse.js'></script>
        <script src='development-bundle/ui/jquery.ui.draggable.js'></script>
        <script src='development-bundle/ui/jquery.ui.droppable.js'></script>
        <script src='development-bundle/ui/jquery.ui.position.js'></script>
        <script src='development-bundle/ui/jquery.ui.resizable.js'></script>
        <script src='development-bundle/ui/jquery.ui.dialog.js'></script>
        <script src='development-bundle/ui/jquery.ui.sortable.js'></script>

        <script type="text/javascript">
            //            $(document).ready(function(){           
            //                $('.boxcontainer').sortable({
            //                    connectWith: ".boxcontainer"
            //                });
            //            
            //                $( ".box" ).addClass( "ui-widget ui-widget-content ui-helper-clearfix ui-corner-all" )
            //                .find( ".box_header" )
            //                .addClass( "ui-widget-header ui-corner-all" )
            //                .end()
            //                .find( ".box_content" );
                
                

            //                $( ".boxcontainer" ).disableSelection(); 
            //                });
                
            function showtinymce(event){
                tinyMCE.init({
                    mode:"exact",
                    elements: event.target.id,
                    plugins : "autolink,lists,spellchecker,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template",
                    width: "96%",
                    height: "70%",
                    theme: "advanced",
                    theme_advanced_buttons1 : "bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect",
                    theme_advanced_buttons2 : "cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview",
                    theme_advanced_buttons3 : "tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,ltr,rtl",
                    theme_advanced_buttons4 : "insertlayer,moveforward,movebackward,absolute,|,styleprops,spellchecker,|,cite,abbr,acronym,del,ins,attribs,|,forecolor,backcolor",
                    theme_advanced_toolbar_location : "top",
                    theme_advanced_toolbar_align : "left",
                    theme_advanced_statusbar_location : "bottom",
                    skin : "o2k7",
                    skin_variant : "silver",
                    
                    setup : function(ed) {
                        ed.makeReadOnly = function(ro) {
                            var t = this, s = t.settings, DOM = tinymce.DOM, d = t.getDoc(), b=null;;

                            if(!s.readonly && ro) {
                                if (!tinymce.isIE) {
                                    try {
                                        d.designMode = 'Off';
                                    } catch (ex) {
                        
                                    }
                                } else {
                                    b = t.getBody();
                                    DOM.hide(b);
                                    b.contentEditable = false;
                                    DOM.show(b);
                                }
                                s.readonly = true;
                            } else if(s.readonly && !ro) {
                                if (!tinymce.isIE) {
                                    try {
                                        d.designMode = 'On';
                                        // Design mode must be set here once again to fix a bug where
                                        // Ctrl+A/Delete/Backspace didn't work if the editor was added using mceAddControl then removed then added again
                                        d.designMode = 'Off';
                                        d.designMode = 'On';
                                    } catch (ex) {
                        
                                    }
                                } else {
                                    b = t.getBody();
                                    DOM.hide(b);
                                    b.contentEditable = true;
                                    DOM.show(b);
                                }
                                s.readonly = false;
                            }
                        };
                    }
                    
                });
            }
        </script>
    </head>
    <body>
        <div class="boxcontainer">
            <div class="box" id="div1">
                <div class="box_header"> first text area</div>
                <div class="box_content"><textarea id="text1" onclick="showtinymce(event)"></textarea></div>
            </div>
            <div class="box" id="div2">
                <div class="box_header"> second text area</div>
                <div class="box_content"><textarea id="text2" onclick="showtinymce(event)"></textarea></div>
            </div>
        </div>

        <div class="boxcontainer">
            <div class="box" id="div3">
                <div class="box_header"> third text area</div>
                <div class="box_content"><textarea id="text3" onclick="showtinymce(event)"></textarea></div>
            </div>
            <div class="box" id="div4">
                <div class="box_header"> fourth text area</div>
                <div class="box_content"><textarea id="text4" onclick="showtinymce(event)"></textarea></div>
            </div>
            <div class="box" id="div5">
                <div class="box_header"> fifth text area</div>
                <div class="box_content"><textarea id="text5" onclick="showtinymce(event)"></textarea></div>
            </div>
        </div>
    </body>
</html>-->

<html>
    <head>
         <script src='development-bundle/jquery-1.7.1.js'></script>
        <script type='text/javascript' src='../../lib/editor/tinymce/tiny_mce/3.4.6/tiny_mce.js'></script>
        <script type="text/javascript">
            $(document).ready(function() {
                tinyMCE.init({
                    mode : "textareas",
                    theme : "advanced",
                    readonly : true,                
                    setup : function(ed) {
                        ed.makeReadOnly = function(ro) {
                            var t = this, s = t.settings, DOM = tinymce.DOM, d = t.getDoc();

                            if(!s.readonly && ro) {
                                if (!tinymce.isIE) {
                                    try {
                                        d.designMode = 'Off';
                                    } catch (ex) {

                                    }
                                } else {
                                    // It will not steal focus if we hide it while setting contentEditable
                                    b = t.getBody();
                                    DOM.hide(b);
                                    b.contentEditable = false;
                                    DOM.show(b);
                                }
                                s.readonly = true;
                            } else if(s.readonly && !ro) {
                                if (!tinymce.isIE) {
                                    try {
                                        d.designMode = 'On';
                                    } catch (ex) {

                                    }
                                } else {
                                    // It will not steal focus if we hide it while setting contentEditable
                                    b = t.getBody();
                                    DOM.hide(b);
                                    b.contentEditable = true;
                                    DOM.show(b);
                                }
                                s.readonly = false;
                            }
                            return s.readonly;
                        };
                    
                        if(ed.settings.readonly) {
                            ed.settings.readonly = false;
                            ed.onInit.add(function(ed) {
                                toggleReadOnly(ed);
                            });
                        }
                    }
                });
                
                function toggleReadOnly(ed) {
                var btn = document.getElementById('btn1');
                btn.value = ed.makeReadOnly(!ed.settings.readonly) ? "Disable ReadOnly" : "Enable ReadOnly";
            };
            });
           
            
            
        </script>
    </head>
    <body>
        <input type="button" onclick="javascript:toggleReadOnly(tinyMCE.get('elm1'));" value="Enable ReadOnly" id="btn1" />
        <textarea id="elm1" rows="33" cols="30" style="width: 50px"></textarea>
    </body>
</html>
